<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
</head>
<body>

<section>
    <div class="container">
        <form id="myForm" action="">
            <div class="row">
                <div class="form-group col-md-6">
                    <input class="form-control" type="text" id="name" name="name" placeholder="Enter your name">
                    <span id="nameError" style="color: red; font-size: small;"></span><br>
                </div>
                <div class="form-group col-md-6">
                    <input class="form-control" type="text" id="email" name="email" placeholder="Enter your email">
                    <span id="emailError" style="color: red; font-size: small;"></span><br>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" type="text" id="subject" name="subject" placeholder="Enter the subject">
                <span id="subjectError" style="color: red; font-size: small;"></span><br>
            </div>
            <br>
            <div class="form-group">
                <textarea class="form-control" id="exampleTextarea" rows="5" placeholder="Enter your message"></textarea>
                <br>
            </div>
            <div class="text-center">
                <button class="btn btn-primary btn-lg border-0" type="button" onclick="validateForm()">Submit</button>
            </div>
            <br>
            <p id="result"></p>
        </form>
    </div>
</section>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    function validateForm() {
        var name = document.getElementById('name').value;
        var email = document.getElementById('email').value;
        var subject = document.getElementById('subject').value;

        var emailRegex = /^([a-zA-Z0-9\._]+)@([a-zA-Z0-9]+)(\.[a-z]+)?$/;

        if (name === '') {
            document.getElementById('nameError').innerHTML = 'Please enter your name';
        } else {
            document.getElementById('nameError').innerHTML = '';
        }

        if (!emailRegex.test(email)) {
            document.getElementById('emailError').innerHTML = 'Enter a valid email address';
        } else {
            document.getElementById('emailError').innerHTML = '';
        }

        if (subject === '') {
            document.getElementById('subjectError').innerHTML = 'Please enter the subject';
        } else {
            document.getElementById('subjectError').innerHTML = '';
        }

        if (name !== '' && emailRegex.test(email) && subject !== '') {
            submitForm();
        }
    }

    function submitForm() {
        $.ajax({
            url: "https://script.google.com/macros/s/AKfycbxS_6jI-qu5YXJIK4X44Y2mLTaCKOLK_k0txb0tTvULZ6PJIKQL6IRU6gzc3HD7mbJosg/exec",
            data: $("#myForm").serialize(),
            method: "post",
            success: function (response) {
                alert("Form submitted successfully");
                window.location.reload();
            },
            error: function (err) {
                alert("Something went wrong");
            }
        });
    }
</script>

</body>
</html>

